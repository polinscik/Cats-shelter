<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Стать волонтёром</title>
        <link
            rel="icon"
            href="assets/images/cat-in-the-house.png"
            type="img/png"
        />
        <script src="http://pure.github.io/pure/libs/pure.js"></script>
        <link rel="stylesheet" href="/styles/normalize.css" />
        <link rel="stylesheet" href="/styles/volunteer.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;0,1000;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900;1,1000&display=swap"
            rel="stylesheet"
        />
    </head>

    <body>
        <main>
            <section class="questionary">
                <h2 class="questionary__title">Волонтёрская заявка</h2>
                <form id="form">
                    <div class="form-section">
                        <h3>Личные данные</h3>
                        <div class="form-row">
                            <label for="name">Ваше имя:</label>
                            <input type="text" id="name" name="name" required />
                        </div>
                        <div class="form-row">
                            <label for="age">Ваш возраст:</label>
                            <input type="age" id="age" name="age" required />
                        </div>
                        <div class="form-row">
                            <label for="from_name">Ваш email:</label>
                            <input
                                type="text"
                                id="from_name"
                                name="from_name"
                                required
                            />
                        </div>
                        <div class="form-row">
                            <label for="numbers">Ваш телефон:</label>
                            <input
                                type="text"
                                id="numbers"
                                name="numbers"
                                required
                            />
                        </div>
                    </div>
                    <div class="form-section">
                        <h3>Опыт работы с животными</h3>
                        <div class="form-row">
                            <label for="experiencewithanimals"
                                >У вас есть опыт работы с животными? Если да,
                                опишите</label
                            >
                            <textarea
                                id="experiencewithanimals"
                                name="experiencewithanimals"
                                rows="5"
                                cols="20"
                            ></textarea>
                        </div>
                    </div>
                    <div class="form-section">
                        <h3>О себе</h3>
                        <div class="form-row">
                            <label for="aboutmyself"
                                >Расскажите немного о себе:</label
                            >
                            <textarea
                                id="aboutmyself"
                                name="aboutmyself"
                            ></textarea>
                        </div>
                    </div>
                    <div class="form-section">
                        <h3>Дополнительная информация</h3>
                        <div class="form-row">
                            <label for="timetowork"
                                >Когда вы можете приступить к работе?</label
                            >
                            <input
                                type="text"
                                id="timetowork"
                                name="timetowork"
                            />
                        </div>
                    </div>
                    <div class="form__button">
                        <button class="btn" id="button" type="submit">
                            Отправить заявку
                        </button>
                    </div>
                </form>
            </section>
            <div style="visibility: hidden" class="field">
                <label for="to_name">to_name</label>
                <input
                    type="text"
                    value="some@mail.ru"
                    name="to_name"
                    id="to_name"
                />
            </div>
        </main>
        <script
            type="text/javascript"
            src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"
        ></script>

        <script type="text/javascript">
            //  document.getElementById("message").innerText = "New text!";
            emailjs.init("S-jfWd-gviiRka8Vt");

            const btn = document.getElementById("button");

            document
                .getElementById("form")

                .addEventListener("submit", function (event) {
                    event.preventDefault();

                    btn.value = "Sending...";

                    const serviceID = "service_g9yv82r";
                    const templateID = "template_4jyua62";

                    emailjs
                        .sendForm(serviceID, templateID, this)

                        .then(
                            () => {
                                // let messageMain = document.getElementById("message");
                                //     messageMain=messageMain+"11111";
                                btn.value = "Send Email";
                                alert("Sent!");
                            },
                            (err) => {
                                btn.value = "Send Email";
                                alert(JSON.stringify(err));
                            }
                        );
                });
        </script>
    </body>
</html>
